(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{169:function(e,t,n){e.exports=n(266)},266:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(28),o=n.n(i),c=n(2),s=n(8),u=n(13),l=n(12),d=n(14),v=n(25),p=n(7),h=n.n(p),f=n(35),g=n.n(f),b=n(36),y=n.n(b),m=n(37),O=n.n(m),N=n(29),_=n.n(N),E=function(){function e(t,n){var a=this;Object(c.a)(this,e),this.wave=void 0,this.addChord=function(e){var t=e.notes;for(var n in t)a.addNote(t[n])},this.addSound=function(e){a.addArray(e.wave)},this.addNote=function(e){a.addFreq(e.freq)},this.addFreq=function(e){for(var t in a.wave)a.wave[t]+=a.sin(t,a.sampleRate,e)},this.addArray=function(e){for(var t in e){if(!(t<a.wave.length))break;a.wave[t]=e[t]}};var r=parseInt(t*n);this.sampleRate=n,this.wave=new Float32Array(r)}return Object(s.a)(e,[{key:"sin",value:function(e,t,n){return Math.sin(2*Math.PI*n*e/t)}}]),e}(),w=Object.freeze({FLAT:0,FADE:1}),I=function(){function e(t){var n=this;Object(c.a)(this,e),this.play=function(e){var t=new Float32Array(e.wave.map(function(e){return e*n.volume})),a=n.context.createBuffer(1,t.length,n.context.sampleRate);a.copyToChannel(t,0),n.source=n.context.createBufferSource(),n.source.buffer=a,n.source.connect(n.context.destination),n.source.start(0)},this.stop=function(){void 0!==n.source&&(n.source.stop(),n.source=void 0)},this.context=t,this.volume=.2,this.source=void 0}return Object(s.a)(e,[{key:"isPlaying",get:function(){return void 0!==this.source}},{key:"volume",get:function(){return this._volume},set:function(e){e<0?e=0:e>1&&(e=1),this._volume=e}}]),e}(),A=function(){function e(t){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;Object(c.a)(this,e),this.addInterval=function(e){n.intervals.push(e),n.reset()},this.removeInterval=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;n.intervals.splice(e,t),n.reset()},this.reset=function(){n._notes=void 0,n._sound=void 0},this.generate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:44100;return void 0===n._sound&&(n._sound=new E(n.duration,e),n._sound.addChord(n)),n._sound},this.root=t,this.intervals=[],this.duration=a,this.soundType=r,this._notes=void 0,this._sound=void 0}return Object(s.a)(e,[{key:"soundType",get:function(){return this._soundType},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w.FLAT;this._soundType!==e&&(this._soundType=e,this._sound=void 0)}},{key:"duration",get:function(){return this._duration},set:function(e){e<0?e=0:e>1&&(e=1),this._duration!==e&&(this._duration=e,this._sound=void 0)}},{key:"notes",get:function(){if(void 0===this._notes)for(var e in this._notes=[this.root],this.intervals){var t=this.intervals[e].generate(this.root);this._notes.push(t)}return this._notes}},{key:"sound",get:function(){return this._sound}}]),e}(),T=function e(t){var n=this;Object(c.a)(this,e),this.toString=function(){var e=Number(n.freq.toFixed(2));return"".concat(e," Hz")},this.freq=t},k=n(22),R=n.n(k),j=Object.freeze({C:0,D:2,E:4,F:5,G:7,A:9,B:11}),M={"\ud834\udd2a":2,"\u266f":1,"\u266e":0,"\u266d":-1},S=function(e){function t(e,n,a){var r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(c.a)(this,t),(r=Object(u.a)(this,Object(l.a)(t).call(this,e))).setFreq=function(e){void 0===e&&(r.freq=r.calcFreq())},r.setNoteKey=function(e,t){if(void 0===t&&void 0===e)throw new Error("must specify key and note");void 0===t?(r.note=r.parseNote(e),r.key=r.calcKey()):void 0===e?(r.key=t,r.note=r.calcNote()):(r.note=r.parseNote(e),r.key=t)},r.calcFreq=function(){return void 0===r.freq?440*Math.pow(2,(r.key-49)/12):r.freq},r.toString=function(){var e=r.note;return e.letter+e.accidentals+e.octave},r.parseNote=function(e){var n=t.parseNoteGroups(e),a=n.letter,r=n.accidentals,i=n.octave;return{letter:a=a.toUpperCase(),accidentals:r=t.reformatAccidentals(r),octave:i}},r.calcKey=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.note,t=e.letter,n=e.accidentals,a=e.octave,i=j[t],o=Array.from(n);for(var c in o)i+=M[o[c]];return i-=8,i+=12*parseInt(a)},r.simplifyNote=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.use_flats,t=arguments.length>1?arguments[1]:void 0;if(void 0===t)r.note=r.calcNote(e);else{1===(t=t.toUpperCase()).length&&(t+=r.note.octave);if(null===/^[A-G][0-9]+$/.exec(t))throw new Error("invalid note");r.center(t)}},r.center=function(e){var n=new t(void 0,e),a=r.key-n.key,i=t.valueToAccidental(a);r.note.accidentals=i,r.note.letter=e[0],r.note.octave=e.substring(1)},r.calcNoteValue=function(){var e=r.key;return{note_value:(e+=8)%12,octave:Math.floor(e/12).toString()}},r.calcNote=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.use_flats,t=r.calcNoteValue(),n=t.note_value,a=t.octave,i=r.getNote(n,e);return{letter:i.letter,accidentals:i.accidentals,octave:a}},r.use_flats=i,r.setNoteKey(n,a),r.setFreq(e),r}return Object(d.a)(t,e),Object(s.a)(t,[{key:"getNote",value:function(e,n){var a,r,i=t._invertNoteValues();if(e in i)a=i[e],r="";else{var o=this._applySharps(n,a,i,e,r);a=o.letter,r=o.accidentals}return{letter:a,accidentals:r}}},{key:"_applySharps",value:function(e,t,n,a,r){return e?(t=n[(a+1)%12],r="\u266d"):(t=n[(a+11)%12],r="\u266f"),{letter:t,accidentals:r}}},{key:"name",get:function(){return this.toString()}}]),t}(T);S.parseNoteGroups=function(e){var t=new RegExp("^([A-Ga-g])([sS#\u266fxX\ud834\udd2anN\u266ebB\u266d]*)([-]?[0-9]+)$").exec(e);if(null===t)throw new Error("Invalid Note: "+e);return{letter:t[1],accidentals:t[2],octave:t[3]}},S.replaceAny=function(e,t,n){for(var a in t){var r=new RegExp(t[a],"g");e=R.a.replace(e,r,n)}return e},S.reformatAccidentals=function(e){e=S.replaceAny(e,"sS#\u266f","\u266f"),e=S.replaceAny(e,"xX\ud834\udd2a","\u266f\u266f"),e=S.replaceAny(e,"bB\u266d","\u266d"),e=S.replaceAny(e,"nN\u266e","\u266e");var t=0;for(var n in e)t+=M[e[n]];return S.valueToAccidental(t)},S.valueToAccidental=function(e){if(e<0)return R.a.repeat("\u266d",-e);if(0===e)return"";var t=R.a.repeat("\u266f",e%2);return R.a.repeat("\ud834\udd2a",Math.floor(e/2))+t},S._invertNoteValues=function(){var e={};for(var t in j)e[j[t]]=t;return e};var F=S,H=function e(){Object(c.a)(this,e)};H.getStdA440=function(){return new F(440,"A4",49)},H.getNoteByName=function(e){return new F(void 0,e,void 0)},H.getNoteByKey=function(e){return new F(void 0,void 0,e)};var D=H,B=function e(){Object(c.a)(this,e),this.type=x.BARE,this.generate=function(e){var t=e.freq,n=e.name,a=e.key;return new T(t,n,a)}},C=Object.freeze({UNISON:0,MINOR_SECOND:1,MAJOR_SECOND:2,MINOR_THIRD:3,MAJOR_THIRD:4,PERFECT_FOURTH:5,TRITONE:6,PERFECT_FIFTH:7,MINOR_SIXTH:8,MAJOR_SIXTH:9,MINOR_SEVENTH:10,MAJOR_SEVENTH:11,OCTAVE:12}),x=Object.freeze({BARE:0,ET:1,PURE:2,TET:3}),q=Object.freeze([[1,1],[16,15],[9,8],[6,5],[5,4],[4,3],[7,5],[3,2],[8,5],[5,3],[16,9],[15,8],[2,1]]),J=Object.freeze({DIMINISHED:0,MINOR:1,MAJOR:2,AUGMENTED:3}),P=function(e){function t(e,n){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this))).set=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;a.ratio=void 0===t?e:[e,t]},a.generate=function(e){return new T(e.freq*a.num/a.den)},a.set(e,n),a.type=x.PURE,a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"ratio",set:function(e){Array.isArray(e)?(this.num=e[0],this.den=e[1]):(this.num=e,this.den=1)},get:function(){return this.num/this.den}}]),t}(B),V=n(75),G=[C.MAJOR_SECOND,C.MAJOR_THIRD,C.MAJOR_SIXTH,C.MAJOR_SEVENTH],U=[C.MINOR_SECOND,C.MINOR_THIRD,C.MINOR_SIXTH,C.MINOR_SEVENTH],z=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).applyInterval=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C.UNISON,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Array.isArray(n)||(n=[n]),e.intervals.push({type:t,mods:n,raise:a}),e._step=void 0},e.removeInterval=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.intervals.splice(t,n),e._step=void 0},e.generate=function(t){var n=(e.usePureInterval?e.buildPureInterval():e.buildEtInterval()).generate(t).freq;return e._generateWithFreq(t,n)},e.buildPureInterval=function(){var t=1,n=1;for(var a in e.intervals){var r=e.intervals[a],i=r.type,o=r.raise,c=Object(V.a)(q[i],2),s=c[0],u=c[1];if(!o){var l=[u,s];s=l[0],u=l[1]}t*=s,n*=u}return new P(t,n)},e.buildEtInterval=function(){return new L(e.step)},e._calcStep=function(t,n,a){var r=0;for(var i in n){var o=e._applyMod(t,r,n[i]);t=o.type,r=o.step}return r=t+r,a||(r=-r),r},e._applyMod=function(t,n,a){switch(a){case J.AUGMENTED:n++;break;case J.DIMINISHED:n--;break;case J.MINOR:t=e._toMinor(t);break;case J.MAJOR:t=e._toMajor(t)}return{type:t,step:n}},e._generateWithFreq=function(t,n){var a=new F(n,void 0,t.key+e.step),r=e._calcLetter(t.note.letter+t.note.octave);return a.simplifyNote(void 0,r),a},e._toMinor=function(e){return-1!==R.a.indexOf(G,e)&&e--,e},e._toMajor=function(e){return-1!==R.a.indexOf(U,e)&&e++,e},e._calcLetter=function(t){for(var n in e.intervals){var a=e.intervals[n],r=a.type,i=a.raise;t=e._raiseNote(t,r,i)}return t},e._raiseNote=function(t,n,a){var r;switch(n){case C.UNISON:r=0;break;case C.MINOR_SECOND:case C.MAJOR_SECOND:r=1;break;case C.MINOR_THIRD:case C.MAJOR_THIRD:r=2;break;case C.PERFECT_FOURTH:r=3;break;case C.TRITONE:case C.PERFECT_FIFTH:r=4;break;case C.MINOR_SIXTH:case C.MAJOR_SIXTH:r=5;break;case C.MINOR_SEVENTH:case C.MAJOR_SEVENTH:r=6;break;case C.OCTAVE:r=7}return a?e._raiseNoteBy(t,r):e._lowerNoteBy(t,r)},e._lowerNoteBy=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e[0],a=parseInt(e.substring(1));t>0;t--)switch(n){case"A":n="G";break;case"B":n="A";break;case"C":n="B",a--;break;case"D":n="C";break;case"E":n="D";break;case"F":n="E";break;case"G":n="F"}return n+a},e._raiseNoteBy=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e[0],a=parseInt(e.substring(1));t>0;t--)switch(n){case"A":n="B";break;case"B":n="C",a++;break;case"C":n="D";break;case"D":n="E";break;case"E":n="F";break;case"F":n="G";break;case"G":n="A"}return n+a},e.intervals=[],e.usePureInterval=!1,e.type=x.TET,e._step=0,e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"step",get:function(){if(void 0===this._step)for(var e in this._step=0,this.intervals){var t=this.intervals[e],n=t.type,a=t.mods,r=t.raise;this._step+=this._calcStep(n,a,r)}return this._step}}]),t}(B),L=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).generate=function(t){var n=Math.pow(2,e.step/e.base);return new T(t.freq*n)},e.type=x.ET,e.step=n,e.base=a,e}return Object(d.a)(t,e),t}(B),X=function e(t){var n=this;Object(c.a)(this,e),this.add=function(e){n.chords.push({chord:e,enabled:!0})},this.remove=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;n.cachedChords.splice(e,t)},this.enable=function(e){n.chords[e].enable=!0},this.enableAll=function(){for(var e in n.chords)n.enable(e)},this.disable=function(e){n.chords[e].enable=!1},this.disableAll=function(){for(var e in n.chords)n.disable(e)},this.getAll=function(){return n.chords},this.play=function(e){var t=n.chords[e],a=t.chord;if(t.enabled){var r=a.getSound();n.player.play(r)}},this.playAll=function(){for(var e in n.playing=!0,n.chords)if(n.play(e),!n.playing)break},this.stop=function(){n.player.stop(),n.playing=!1},this.chords=[],this.player=new I,this.context=t,this.playing=!1},K=n(15),W=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).getNoteAvatar=function(e){return"note"in e?e.note.letter:"Hz"},n.zipIntervalsAndNotes=function(e){var t=e.intervals,a=e.notes;return r.a.createElement(r.a.Fragment,null,t.map(function(e,t){return r.a.createElement(K.c,null,r.a.createElement(K.a,null,n.getNoteAvatar(a[t])),r.a.createElement(K.d,{primary:"".concat(a[t]),secondary:"".concat(JSON.stringify(e))}))}))},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.chord,a=n.root,i=n.duration,o=n.soundType;return r.a.createElement(K.f,{className:t.paper},r.a.createElement(K.b,{className:t.list},r.a.createElement(K.e,{className:t.subHeader},"Note: ".concat(a)),r.a.createElement(K.e,{className:t.subHeader},"Duration: ".concat(i)),r.a.createElement(K.e,{className:t.subHeader},"Sound Type: ".concat(o)),r.a.createElement(K.e,{className:t.subHeader},"Intervals:"),this.zipIntervalsAndNotes(n)))}}]),t}(r.a.Component),$=h()(function(e){return{appBar:{position:"relative"},layout:Object(v.a)({width:"auto",marginLeft:2*e.spacing.unit,marginRight:2*e.spacing.unit},e.breakpoints.up(600+2*e.spacing.unit*2),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(v.a)({marginTop:3*e.spacing.unit,marginBottom:3*e.spacing.unit,padding:2*e.spacing.unit},e.breakpoints.up(600+3*e.spacing.unit*2),{marginTop:6*e.spacing.unit,marginBottom:6*e.spacing.unit,padding:3*e.spacing.unit}),stepper:{padding:"".concat(3*e.spacing.unit,"px 0 ").concat(5*e.spacing.unit,"px")},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:3*e.spacing.unit,marginLeft:e.spacing.unit}}})(W),Q=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={model:new X},n.buildFakeData=function(){var e=new T(440),t=new A(e);t.addInterval(new L(4));var a=new A(e);a.addInterval(new P(3,2));var r=D.getNoteByName("A4"),i=new A(r),o=new z;o.applyInterval(C.MAJOR_THIRD),i.addInterval(o);var c=D.getNoteByName("C4"),s=new A(c),u=new X;u.add(t),u.add(a),u.add(i),u.add(s),n.setState({model:u})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.buildFakeData()}},{key:"render",value:function(){var e=this.props.classes,t=this.state.model.chords;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,null),r.a.createElement(y.a,{position:"absolute",color:"default",className:e.appBar},r.a.createElement(O.a,null,r.a.createElement(_.a,{variant:"h6",color:"inherit",noWrap:!0},"Pure Tone v0.3.7"))),r.a.createElement("br",null),r.a.createElement("main",{className:e.layout},t.map(function(e,t){var n=e.chord;return r.a.createElement($,{chord:n,key:t})})))}}]),t}(r.a.Component),Y=h()(function(e){return{appBar:{position:"relative"},layout:Object(v.a)({width:"auto",marginLeft:2*e.spacing.unit,marginRight:2*e.spacing.unit},e.breakpoints.up(600+2*e.spacing.unit*2),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(v.a)({marginTop:3*e.spacing.unit,marginBottom:3*e.spacing.unit,padding:2*e.spacing.unit},e.breakpoints.up(600+3*e.spacing.unit*2),{marginTop:6*e.spacing.unit,marginBottom:6*e.spacing.unit,padding:3*e.spacing.unit}),stepper:{padding:"".concat(3*e.spacing.unit,"px 0 ").concat(5*e.spacing.unit,"px")},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:3*e.spacing.unit,marginLeft:e.spacing.unit}}})(Q);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[169,2,1]]]);
//# sourceMappingURL=main.4d4c1e07.chunk.js.map